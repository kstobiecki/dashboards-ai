'use client';

import { ExploreCard } from '../context/ExploreContext';
import { nanoid } from 'nanoid';

export const createToDoCard = (): ExploreCard => ({
  id: `todo-${nanoid(10)}`,
  conversationHistory: {
    prompts: 'Create a view for the todo list. User should be able to add, mark as completed, and delete todos.',
    html: Buffer.from(encodedHtml, 'base64').toString('utf8'),
  },
  intervalSettings: {
    isEnabled: false,
    interval: 5,
    prompt: '',
  },
});

const encodedHtml = `PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCI+CiAgICA8dGl0bGU+RGFyayBUaGVtZSBUb2RvIExpc3Q8L3RpdGxlPgogICAgPGxpbmsgaHJlZj0iaHR0cHM6Ly93d3cudW5wa2cuY29tL3RhaWx3aW5kY3NzQDIuMi4xOS9kaXN0L3RhaWx3aW5kLm1pbi5jc3MiIHJlbD0ic3R5bGVzaGVldCI+CiAgICA8c3R5bGU+CiAgICAgICAgOnJvb3QgewogICAgICAgICAgICAtLWJnLWNvbG9yOiAjMWUyOTNiOwogICAgICAgICAgICAtLWNhcmQtY29sb3I6ICMzMzQxNTU7CiAgICAgICAgICAgIC0tYWNjZW50LWNvbG9yOiAjM2I4MmY2OwogICAgICAgICAgICAtLWNvbXBsZXRlZC1jb2xvcjogIzQ3NTU2OTsKICAgICAgICAgICAgLS10ZXh0LWNvbG9yOiAjZjhmYWZjOwogICAgICAgIH0KICAgICAgICBib2R5IHsKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYmctY29sb3IpOwogICAgICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1jb2xvcik7CiAgICAgICAgICAgIGZvbnQtZmFtaWx5OiAnSW50ZXInLCBzYW5zLXNlcmlmOwogICAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgICAgaGVpZ2h0OiAxMDAlOwogICAgICAgIH0KICAgICAgICAudG9kby1jYXJkIHsKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tY2FyZC1jb2xvcik7CiAgICAgICAgICAgIGJvcmRlci1sZWZ0OiA0cHggc29saWQgdmFyKC0tYWNjZW50LWNvbG9yKTsKICAgICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTsKICAgICAgICB9CiAgICAgICAgLnRvZG8tY2FyZC5jb21wbGV0ZWQgewogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1jb21wbGV0ZWQtY29sb3IpOwogICAgICAgICAgICBib3JkZXItbGVmdDogNHB4IHNvbGlkICM2YjcyODA7CiAgICAgICAgICAgIHRleHQtZGVjb3JhdGlvbjogbGluZS10aHJvdWdoOwogICAgICAgICAgICBvcGFjaXR5OiAwLjc7CiAgICAgICAgfQogICAgICAgIC5jaGVja2JveCB7CiAgICAgICAgICAgIHdpZHRoOiAyMHB4OwogICAgICAgICAgICBoZWlnaHQ6IDIwcHg7CiAgICAgICAgICAgIGJvcmRlcjogMnB4IHNvbGlkIHZhcigtLWFjY2VudC1jb2xvcik7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDsKICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICAgICAgfQogICAgICAgIC5jaGVja2JveC5jaGVja2VkOjphZnRlciB7CiAgICAgICAgICAgIGNvbnRlbnQ6ICLinJMiOwogICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1hY2NlbnQtY29sb3IpOwogICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDsKICAgICAgICAgICAgdG9wOiA1MCU7CiAgICAgICAgICAgIGxlZnQ6IDUwJTsKICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7CiAgICAgICAgfQogICAgICAgIC5hZGQtYnV0dG9uIHsKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYWNjZW50LWNvbG9yKTsKICAgICAgICB9CiAgICAgICAgLmRlbGV0ZS1idXR0b24gewogICAgICAgICAgICBvcGFjaXR5OiAwOwogICAgICAgICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuMnMgZWFzZTsKICAgICAgICB9CiAgICAgICAgLnRvZG8tY2FyZDpob3ZlciAuZGVsZXRlLWJ1dHRvbiB7CiAgICAgICAgICAgIG9wYWNpdHk6IDE7CiAgICAgICAgfQogICAgICAgIC8qIEFkZCAxcHggYm9yZGVyIHRvIHRoZSBuZXcgdGFzayBpbnB1dCAqLwogICAgICAgICNuZXctdG9kbyB7CiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICMzYjgyZjYgIWltcG9ydGFudDsKICAgICAgICB9CiAgICA8L3N0eWxlPgo8L2hlYWQ+Cjxib2R5Pgo8ZGl2IGNsYXNzPSJjb250YWluZXIgbXgtYXV0byBweC00IHB5LTggbWF4LXctMnhsIj4KICAgIDxoMSBjbGFzcz0idGV4dC0zeGwgZm9udC1ib2xkIG1iLTggdGV4dC1jZW50ZXIiPlRvZG8gTGlzdDwvaDE+CgogICAgPGRpdiBjbGFzcz0iZmxleCBtYi02Ij4KICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9Im5ldy10b2RvIiBwbGFjZWhvbGRlcj0iQWRkIGEgbmV3IHRhc2suLi4iIGNsYXNzPSJmbGV4LWdyb3cgcC0zIHJvdW5kZWQtbC1sZyBiZy1ncmF5LTgwMCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmx1ZS01MDAiPgogICAgICAgIDxidXR0b24gaWQ9ImFkZC10b2RvIiBjbGFzcz0iYWRkLWJ1dHRvbiB0ZXh0LXdoaXRlIGZvbnQtc2VtaWJvbGQgcC0zIHB4LTUgcm91bmRlZC1yLWxnIj5BZGQ8L2J1dHRvbj4KICAgIDwvZGl2PgoKICAgIDxkaXYgaWQ9InRvZG9zLWNvbnRhaW5lciIgY2xhc3M9InNwYWNlLXktMyI+CiAgICAgICAgPCEtLSBUb2RvIGl0ZW1zIHdpbGwgYmUgYWRkZWQgaGVyZSAtLT4KICAgIDwvZGl2Pgo8L2Rpdj4KCjxzY3JpcHQ+CiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4gewogICAgICAgIGNvbnN0IG5ld1RvZG9JbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZXctdG9kbycpOwogICAgICAgIGNvbnN0IGFkZFRvZG9CdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkLXRvZG8nKTsKICAgICAgICBjb25zdCB0b2Rvc0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b2Rvcy1jb250YWluZXInKTsKCiAgICAgICAgLy8gTG9hZCBmcm9tIGxvY2FsU3RvcmFnZSBpZiBhdmFpbGFibGUKICAgICAgICBjb25zdCB0b2RvcyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3RvZG9zJykpIHx8IFtdOwoKICAgICAgICAvLyBSZW5kZXIgaW5pdGlhbCB0b2RvcwogICAgICAgIHJlbmRlclRvZG9zKCk7CgogICAgICAgIC8vIEFkZCBuZXcgdG9kbwogICAgICAgIGFkZFRvZG9CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7CiAgICAgICAgICAgIGFkZE5ld1RvZG8oKTsKICAgICAgICB9KTsKCiAgICAgICAgbmV3VG9kb0lucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXByZXNzJywgKGUpID0+IHsKICAgICAgICAgICAgaWYgKGUua2V5ID09PSAnRW50ZXInKSB7CiAgICAgICAgICAgICAgICBhZGROZXdUb2RvKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKCiAgICAgICAgZnVuY3Rpb24gYWRkTmV3VG9kbygpIHsKICAgICAgICAgICAgY29uc3QgdG9kb1RleHQgPSBuZXdUb2RvSW5wdXQudmFsdWUudHJpbSgpOwogICAgICAgICAgICBpZiAodG9kb1RleHQpIHsKICAgICAgICAgICAgICAgIGNvbnN0IG5ld1RvZG8gPSB7CiAgICAgICAgICAgICAgICAgICAgaWQ6IERhdGUubm93KCkudG9TdHJpbmcoKSwKICAgICAgICAgICAgICAgICAgICB0ZXh0OiB0b2RvVGV4dCwKICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWQ6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKQogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICB0b2Rvcy5wdXNoKG5ld1RvZG8pOwogICAgICAgICAgICAgICAgc2F2ZVRvZG9zKCk7CiAgICAgICAgICAgICAgICByZW5kZXJUb2RvcygpOwogICAgICAgICAgICAgICAgbmV3VG9kb0lucHV0LnZhbHVlID0gJyc7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHRvZ2dsZVRvZG9Db21wbGV0ZWQoaWQpIHsKICAgICAgICAgICAgY29uc3QgdG9kbyA9IHRvZG9zLmZpbmQodCA9PiB0LmlkID09PSBpZCk7CiAgICAgICAgICAgIGlmICh0b2RvKSB7CiAgICAgICAgICAgICAgICB0b2RvLmNvbXBsZXRlZCA9ICF0b2RvLmNvbXBsZXRlZDsKICAgICAgICAgICAgICAgIHNhdmVUb2RvcygpOwogICAgICAgICAgICAgICAgcmVuZGVyVG9kb3MoKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gZGVsZXRlVG9kbyhpZCkgewogICAgICAgICAgICBjb25zdCBpbmRleCA9IHRvZG9zLmZpbmRJbmRleCh0ID0+IHQuaWQgPT09IGlkKTsKICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkgewogICAgICAgICAgICAgICAgdG9kb3Muc3BsaWNlKGluZGV4LCAxKTsKICAgICAgICAgICAgICAgIHNhdmVUb2RvcygpOwogICAgICAgICAgICAgICAgcmVuZGVyVG9kb3MoKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gc2F2ZVRvZG9zKCkgewogICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG9kb3MnLCBKU09OLnN0cmluZ2lmeSh0b2RvcykpOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gcmVuZGVyVG9kb3MoKSB7CiAgICAgICAgICAgIHRvZG9zQ29udGFpbmVyLmlubmVySFRNTCA9ICcnOwoKICAgICAgICAgICAgaWYgKHRvZG9zLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgICAgY29uc3QgZW1wdHlNZXNzYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICBlbXB0eU1lc3NhZ2UuY2xhc3NOYW1lID0gJ3RleHQtY2VudGVyIHB5LTEwIHRleHQtZ3JheS01MDAnOwogICAgICAgICAgICAgICAgZW1wdHlNZXNzYWdlLnRleHRDb250ZW50ID0gJ05vIHRhc2tzIHlldC4gQWRkIG9uZSBhYm92ZSEnOwogICAgICAgICAgICAgICAgdG9kb3NDb250YWluZXIuYXBwZW5kQ2hpbGQoZW1wdHlNZXNzYWdlKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdG9kb3MuZm9yRWFjaCh0b2RvID0+IHsKICAgICAgICAgICAgICAgIGNvbnN0IHRvZG9DYXJkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICB0b2RvQ2FyZC5jbGFzc05hbWUgPSBgdG9kby1jYXJkIHAtNCByb3VuZGVkLWxnIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiAke3RvZG8uY29tcGxldGVkID8gJ2NvbXBsZXRlZCcgOiAnJ31gOwogICAgICAgICAgICAgICAgdG9kb0NhcmQuaW5uZXJIVE1MID0gYAogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2hlY2tib3ggJHt0b2RvLmNvbXBsZXRlZCA/ICdjaGVja2VkJyA6ICcnfSIgZGF0YS1pZD0iJHt0b2RvLmlkfSI+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz0idGV4dC1sZyI+JHt0b2RvLnRleHR9PC9wPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iZGVsZXRlLWJ1dHRvbiB0ZXh0LXJlZC01MDAgaG92ZXI6dGV4dC1yZWQtNDAwIiBkYXRhLWlkPSIke3RvZG8uaWR9Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJjdXJyZW50Q29sb3IiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMyA2aDE4Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE5IDZ2MTRhMiAyIDAgMDEtMiAySDdhMiAyIDAgMDEtMi0yVjZtMyAwVjRhMiAyIDAgMDEyLTJoNGEyIDIgMCAwMTIgMnYyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpbmUgeDE9IjEwIiB5MT0iMTEiIHgyPSIxMCIgeTI9IjE3Ij48L2xpbmU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpbmUgeDE9IjE0IiB5MT0iMTEiIHgyPSIxNCIgeTI9IjE3Ij48L2xpbmU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N2Zz4KICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgYDsKICAgICAgICAgICAgICAgIHRvZG9zQ29udGFpbmVyLmFwcGVuZENoaWxkKHRvZG9DYXJkKTsKCiAgICAgICAgICAgICAgICAvLyBBZGQgZXZlbnQgbGlzdGVuZXJzCiAgICAgICAgICAgICAgICBjb25zdCBjaGVja2JveCA9IHRvZG9DYXJkLnF1ZXJ5U2VsZWN0b3IoJy5jaGVja2JveCcpOwogICAgICAgICAgICAgICAgY2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdG9nZ2xlVG9kb0NvbXBsZXRlZCh0b2RvLmlkKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IHRvZG9DYXJkLnF1ZXJ5U2VsZWN0b3IoJy5kZWxldGUtYnV0dG9uJyk7CiAgICAgICAgICAgICAgICBkZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4gewogICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgICAgICAgICAgICAgZGVsZXRlVG9kbyh0b2RvLmlkKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9KTsKPC9zY3JpcHQ+CjwvYm9keT4KPC9odG1sPgo=`